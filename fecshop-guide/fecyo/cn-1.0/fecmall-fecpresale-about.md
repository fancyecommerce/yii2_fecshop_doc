Fecpresale预售扩展-简介
============

> 本扩展，是基于fecyo的基础上的扩展，预售功能插件

`预售`: 英文是Presale，是指在产品还没正式进入市场前进行的销售行为。
对于一些设计、发明类的产品，可以通过预售来了解该种产品是否有市场，
特别是针对一些只能通过批量化生产的产品而言，通过预售达到一定量后才可以投入生产，
有效规避了生产存在的风险。对于预售过程中没有成功的产品就表明该产品的实用性以及受欢迎度有待考究与论证，
这是一种规避批量化生产造成浪费以及进行市场调研的很好方法。


### 预售功能逻辑介绍


大致逻辑：商家发布`预售商品`，用户先交一部分`定金`预定，等商品生产出来后，用户补齐`尾款`，商家发货的过程。

下面是详细的逻辑介绍：


1.商家在后台发布`预售类型`商品，设置商品`预售定金金额`，`预售尾款金额`，`预售补尾款开始时间`，`预售补尾款结束时间`。

2.预售商品发布后，将会显示在单独的预售产品列表页面，该页面显示所有的预售商品。


3.用户在预售商品列表查看预售商品，点击商品后，进入商品详情页面，查看商品，选择预售个数，点击`立即支付定金`，进入下单页面（预售商品的
下单流程没有购物车概念），支付`预售商品定金`。


4.用户只能在商品设置的补齐尾款的有效时间内操作，否则无法补齐尾款。

5.如果超出补齐尾款的结束时间，则订单关闭，用户的定金不退。

订单的关闭，是通过一个任务脚本执行，自动将过了预售补尾款时间的订单，状态改成close

6.只有pc和h5两个入口，没有微信小程序


7.下单页面，用户不能使用优惠券，积分等等任何优惠功能

### 预售流程时间段



`定金阶段`：  `当前时间`  <  `预售补尾款开始时间`
 
`补尾款阶段`：  (`当前时间`  >  `预售补尾款开始时间`)    &&  ( 当前时间  <  `预售补尾款结束时间`)

`结束阶段`：  `当前时间`  >  `预售补尾款结束时间` 


预售产品列表页面，只显示 定金阶段的预售商品。









